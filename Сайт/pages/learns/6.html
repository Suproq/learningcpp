<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Массивы</title>
    <link rel="stylesheet" href="../../style.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" />
    <link rel="stylesheet"
      href="prism.css">
    <script src="../../scripts/prism.js"></script>
  </head>
  <body>
    <div class="wrapper">
    <header>
        <ul class="headbut">
          <li><a href="../../index.html"><div>Главная</div></a></li>
          <li><a class="active" href="../learns.html"><div>Уроки</div></a></li>
          <li><a href="../tasks.html"><div>Задачи</div></a></li>
          <li><a href="../about.html"><div>О нас</div></a></li>
        </ul>
    </header>
    <div class="content">
        <div style="padding: 1% 3%;">
            <div class="upbut">
                <a style="float: left;" href="5.html">Назад</a>
                <a style="margin-left: auto;" href="7.html">Следующий урок</a>
            </div>
            <h1>Урок 6: Массивы</h1>
            <p>Сегодня мы с поговорим о массивах. Вы уже знаете, что переменная — это ячейка в памяти компьютера, где может храниться одно единственное значение. Массив — это область памяти, где могут последовательно храниться несколько значений.</p>
            <p>Возьмем группу студентов из десяти человек. У каждого из них есть фамилия. Создавать отдельную переменную для каждого студента — не рационально. Создадим массив, в котором будут храниться фамилии всех студентов. </p>

            <pre class="line-numbers"><code class="language-clike">string students[10] = {
    "Иванов", "Петров", "Сидоров",
    "Ахмедов", "Ерошкин", "Выхин",
    "Андеев", "Вин Дизель", "Картошкин", "Чубайс"
};</code></pre>
    <p>Массив создается почти так же, как и обычная переменная. Для хранения десяти фамилий нам нужен массив, состоящий из 10 элементов. Количество элементов массива задается при его объявлении и заключается в квадратные скобки.</p>
    <p>Чтобы описать элементы массива сразу при его создании, можно использовать фигурные скобки. В фигурных скобках значения элементов массива перечисляются через запятую. В конце закрывающей фигурной скобки ставится точка с запятой.</p>
    <p>Попробуем вывести наш массив на экран с помощью оператора <code class="language-clike">cout</code>.</p>
    <pre class="line-numbers"><code class="language-clike">#include &lt;iostream>
#include &lt;string>

int main()    
{
    std::string students[10] = {
        "Иванов", "Петров", "Сидоров",
        "Ахмедов", "Ерошкин", "Выхин",
        "Андеев", "Вин Дизель", "Картошкин", "Чубайс"
    };
    std::cout << students << std::endl; // Пытаемся вывести весь массив непосредственно
    return 0;
}</code></pre>
    <p>Скомпилируйте этот код и посмотрите, на результат работы программы. Готово? А теперь запустите программу еще раз и сравните с предыдущим результатом. Скорее всего у вас будет что то подобное:</p>
    <ul>
        <li>Первый вывод: 0x7ffff8b85820</li>
        <li>Первый вывод: 0x7ffff8b85820</li>
        <li>Первый вывод: 0x7ffff8b85820</li>
    </ul>
    <p>Мы видим, что выводится адрес этого массива в оперативной памяти, а никакие не «Иванов» и «Петров». </p>
    <p>Дело в том, что при создании переменной, ей выделяется определенное место в памяти. Если мы объявляем переменную типа <code class="language-clike">int</code>, то на машинном уровне она описывается двумя параметрами — ее адресом и размером хранимых данных.</p>
    <p>Массивы в памяти хранятся таким же образом. Массив типа <code class="language-clike">int</code> из 10 элементов описывается с помощью адреса его первого элемента и количества байт, которое может вместить этот массив. Если для хранения одного целого числа выделяется 4 байта, то для массива из десяти целых чисел будет выделено 40 байт.</p>
    <p>Так почему же, при повторном запуске программы, адреса различаются? Это сделано для защиты от атак переполнения буфера. Такая технология называется рандомизацией адресного пространства и реализована в большинстве ОС.</p>
    <p>Попробуем вывести первый элемент массива — фамилию студента Иванова.</p>
    <pre class="line-numbers"><code class="language-clike">#include &lt;iostream>
#include &lt;string>

int main()
{    
    std::string students[10] = {
        "Иванов", "Петров", "Сидоров",
        "Ахмедов", "Ерошкин", "Выхин",
        "Андеев", "Вин Дизель", "Картошкин", "Чубайс"
    };
    std::cout << students[0] <<  std::endl;
    return 0;
}</code></pre>
    <p>Смотрим, компилируем, запускаем. Убедились, что вывелся именно «Иванов». Заметьте, что нумерация элементов массива в C++ начинается с нуля. Следовательно, фамилия первого студента находится в <code class="language-clike">students[0]</code>, а фамилия последнего — в <code class="language-clike">students[9]</code>.</p>
    <p>В большинстве языков программирования нумерация элементов массива также начинается с нуля.</p>
    <p>Попробуем вывести список всех студентов. Но сначала подумаем, а что если бы вместо группы из десяти студентов, была бы кафедра их ста, факультет из тысячи, или даже весь университет? Ну не будем же мы писать десятки тысяч строк с <code class="language-clike">cout?</code></p>
    <p>Конечно же нет! Мы возьмем на вооружение циклы, о которых был написан предыдущий урок.</p>
    <pre class="line-numbers"><code class="language-clike">#include &lt;iostream>
#include &lt;string>

int main()
{
    std::string students[10] = {
        "Иванов", "Петров", "Сидоров",
        "Ахмедов", "Ерошкин", "Выхин",
        "Андеев", "Вин Дизель", "Картошкин", "Чубайс"
    };  
    for (int i = 0; i < 10; i++) {
        std::cout << students[i] << std::endl;
    }

    return 0;
}</code></pre>
    <p>Если бы нам пришлось выводить массив из нескольких тысяч фамилий, то мы бы просто увеличили конечное значение счетчика цикла — строку <code class="language-clike">for (...; i < 10; ...)</code> заменили на <code class="language-clike">for (...; i < 10000; ...)</code>.</p>
    <p>Заметьте что счетчик нашего цикла начинается с нуля, а заканчивается девяткой. Если вместо оператора строгого неравенства — <code class="language-clike">i < 10</code> использовать оператор «меньше, либо равно» — <code class="language-clike">i <= 10</code>, то на последней итерации программа обратится к несуществующему элементу массива — <code class="language-clike">students[10]</code>. Это может привести к ошибкам сегментации и аварийному завершению программы. Будьте внимательны — подобные ошибки бывает сложно отловить.</p>
    <p>Массив, как и любую переменную можно не заполнять значениями при объявлении.</p>
    <pre class="line-numbers"><code class="language-clike">string students[10];
// или
string teachers[5];</code></pre>
        <p>Элементы такого массива обычно содержат в себе «мусор» из выделенной, но еще не инициализированной, памяти. Некоторые компиляторы, такие как GCC, заполняют все элементы массива нулями при его создании.</p>
        <p>При создании статического массива, для указания его размера может использоваться только константа. Размер выделяемой памяти определяется на этапе компиляции и не может изменяться в процессе выполнения.</p>
        <pre class="line-numbers"><code class="language-clike">int n;
cin >> n;
string students[n]; /* Неверно */</code></pre>
            <p>Выделение памяти в процессе выполнения возможно при работе с динамическими массивами. Но о них немного позже.</p>
            <p>Заполним с клавиатуры пустой массив из 10 элементов.</p>
            <pre class="line-numbers"><code class="language-clike">#include <iostream>
#include <string>

using std::cout;
using std::cin;
using std::endl;

int main()
{    
        int arr[10];

        // Заполняем массив с клавиатуры
        for (int i = 0; i < 10; i++) {
            cout << "[" << i + 1 << "]" << ": ";
            cin >> arr[i];
        }

        // И выводим заполненный массив.
        cout << "\nВаш массив: ";

        for (int i = 0; i < 10; ++i) {
            cout << arr[i] << " ";
        }

        cout << endl;

        return 0;
}
</code></pre>
    <p>Скомпилируйте эту программу и проверьте ее работу</p>
    <h4>Рекомендуются следующие задачи к решению:</h4>
    <ul class="learns">
        <li><a href="https://acm.timus.ru/problem.aspx?space=1&num=1880" target="_blank">Собственные числа Psych Up</a></li>
        <li><a href="https://acm.timus.ru/problem.aspx?space=1&num=1910" target="_blank">Руины титанов: сокрытый вход</a></li>
        <li><a href="https://acm.timus.ru/problem.aspx?space=1&num=1313" target="_blank">К вопросу о спорте</a></li>
        <li><a href="https://acm.timus.ru/problem.aspx?space=1&num=1225" target="_blank">Флаги*</a></li>
    </ul>
    <p>*Подсказка: Вместо типа данных <code class="language-clike">int</code>, нужно использовать <code class="language-clike">long long</code>, он поддерживает числа куда больше, чем <code class="language-clike">int</code>.</p>
    <div class="buttons">
        <a href="5.html">Назад</a>
        <a href="7.html">Следующий урок</a>
      </div>
        </div>
    </div>
    <footer>
        <p>©2022</p>
      </footer>
    </div>
  </body>
</html>